# FastAPI User Authentication

Это простое приложение аутентификации пользователей, созданное с использованием FastAPI, SQLAlchemy и PostgreSQL. Оно
обеспечивает регистрацию пользователей, хэширование паролей и выдачу токенов доступа с использованием JWT.

### Особенности

- Регистрация пользователей с хэшированием пароля
- Логин пользователей и получение токена доступа
- Защита маршрутов с помощью OAuth2
- Использование PostgreSQL в качестве базы данных

### Требования:

- Python 3.12.9
- FastApi 0.116.1
- pydantic 2.11.7
- SQLAlchemy 2.0.43
- uvicorn 0.35.0
- Docker
- PostgreSQL

### Структура:

- `crud` - директория с CRUD функциями
- `models` - директория с моделями для БД и pydantic
- `screenshots` - скриншоты работы приложения и тестов
- `settings` - директория с настройками приложения и БД
- `tests` - тесты
- `main.py` - основной файл приложения
- `requirements.txt` - требования для запуска кода

### База данных:

- PostgreSQL при запуске приложения через Docker
- SQLite при локальном запуске

# Запуск:

- ### Через Docker :

  - `docker-compose up --build`

- ### Локально:
  - Настройте БД:
     - Вариант 1: добавьте в свои переменные окружения:
       - `DATABASE_URL=sqlite:///:memory:`
     - Вариант 2: переименуйте файл `.env_example` в `.env`
  - Выполните команды в терминале:
    - `pip install -r requirements.txt` установка зависимостей
    - `uvicorn main:app --reload --host 0.0.0.0 --port 8000` запуск сервера

### Функции:

POST:

- `http://localhost:8000/register` регистрация нового пользователя
    - username
    - password
- `http://localhost:8000/token` логин пользователя и получение токена доступа
    - username
    - password

GET:

- `http://localhost:8000/health` проверка состояния сервиса и подключения к базе данных


### Тесты

- Запуск тестов командой: `pytest -v`